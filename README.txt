
***************************
* USER MANUAL FOR MiStImm *
***************************

- This program package (MiStImm - Microscopic Stochastic Immun System Simulation Software) is developed by Csaba Kerepesi, Tamás Szabados, Gábor Szabados, Tamás Kiss, Kristóf Hörömpöly, Endre Szecsei.
- For any support and contact please write here: kerepesi@web.elte.hu (Csaba Kerepesi)

***Licence***

- MiStImm is a free software: you may redistribute it and/or modify its under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or any later version.
- MiStImm are distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details (http://www.gnu.org/licenses/).
- For any other inquiries send an email to Csaba Kerepesi: kerepesi@caesar.elte.hu

***How to cite***

- How to cite: If you publish anything using MiStimm, you are asked to cite the following publication:
- T. Szabados, G. Tusnády, C. Kerepesi, T. Bakács: "A microscopic stochastic model of the adaptive humoral immune development process", arxiV preprint, arXiv: 1507.00950, 2015.

***Short introduction: the main ingredients***

1. MiStImm_dec17_2014: A C program and an exe file for simulating the microscopic stochastic model of the humoral immune development.
2. indat1: A text file containing the input parameters of the above MiStImm_dec17_2014 program and their short explanations.
3. outdat-<number> and out2-<number>: The output generated by the MiStImm_dec17_2014 program.
4. indrawc-2014-08-07: A Pascal program and an exe file for generating figures (visualization) from the above outdat file:
	- time diagram of the numbers of the different cells and proteins, 
	- developing antigen lattice,
	- developing peptide lattice.
5. Out2Vizu.pl: A Perl program for generating figures (visualization) from the above out2 file:
	- time evolution of weak, intermediate and strong reproductions.

*** Quick start for Windows step by step ***

1. Run MiStImm_dec17_2014.exe
2. Run indrawc-2014-08-07.exe 
3. Choose an outdat-<number> file from the opened menu by typing its number, for example: "3".
4. For the time diagram in a bird's eye view choose the option 1 ("Time diagram") by typing "1" then make the following settings: 
	- First time instant = 0
	- Last time instant = 4000
	- Time step = 8
	- Vertical unit = 4000
	- Delay = 1. 
5. Press "Enter" and then choose the option "1" ("actual file again")
6. For the time diagram in a closer view choose "1" ("Time diagram") then make the following settings: 
	- First time instant = 2900
	- Last time instant = 4000
	- Time step = 2
	- Vertical unit = 200
	- Delay = 1
7. Press "Enter" and then choose the option "1" ("actual file again")
8. For the developing antigen lattice or the developing peptide lattice choose option "2" or "5", respectively. 
	- First time instant = 0
	- Last time instant = 4000
	- Plotting with (p)oints: press "p"
	- Time step = 2
	- Delay = 10
	- You may freeze the screen and then start again by pressing the space bar. 
9. Press "Enter" and then choose the option 3 ("exit")


*** Workflow for multiple simulation ***

- delete all earlier output files from the start directory
- perl Multirun.pl
- create an out directory (e.q.: md ERS-nr350-div50)
- mv outdat-* CRS-nr350-div50
- mv out2-* CRS-nr350-div50
- cd CRS-nr350-div50
- dir /b outdat-* > CRS-nr350-div50-outdatlist.txt
- perl ..\AnalyzerOutdat.pl CRS-nr350-div50-outdatlist.txt 50
- perl ..\CountStat.pl CRS-nr350-div50-outdatlist.txt-AnalyzerOutdat-50.txt

*** Indat1 changes to convert ERS model to CRS model ***

- 1-1(comptype)=0->1
- 2-3(mediumreprod)=1->0
- 2-4(weakr)=1->0
- 8-6(tauthm0)=5->30 

*** Some help for indrawc-2014-08-07.exe ***

- In "1. Time diagram" menu option: 
	- one time step is 550 time unit
	- the program draws 4.5 vertical units
	- choose time step 1
	

